(this["webpackJsonpepidemic-social-distancing"]=this["webpackJsonpepidemic-social-distancing"]||[]).push([[0],{41:function(e,t,a){e.exports=a(48)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),i=a.n(l),c=(a(46),function(e){var t=e.portalId,a=e.children;return i.a.createPortal(a,document.getElementById(t))}),o=function(e){var t=e.deathRates;return r.a.createElement("svg",null,r.a.createElement(c,{portalId:"healthy-has-bed-deaths"},Math.round(100*(1-t.severeWithBeds))),r.a.createElement(c,{portalId:"healthy-has-bed-recovers"},Math.round(100*t.severeWithBeds)),r.a.createElement(c,{portalId:"healthy-no-bed-deaths"},Math.round(100*(1-t.severeNoBeds))),r.a.createElement(c,{portalId:"healthy-no-bed-recovers"},Math.round(100*t.severeNoBeds)),r.a.createElement(c,{portalId:"immuno-has-bed-deaths"},Math.round(100*(1-t.immunoWithBed))),r.a.createElement(c,{portalId:"immuno-has-bed-recovers"},Math.round(100*t.immunoWithBed)),r.a.createElement(c,{portalId:"immuno-no-bed-deaths"},Math.round(100*(1-t.immunoNoBeds))),r.a.createElement(c,{portalId:"immuno-no-bed-recovers"},Math.round(100*t.immunoNoBeds)))},s=a(2),u=a(17),m=a(18),d=function(e,t,a,n,l,i,c){var o=r.a.useRef(),s=r.a.useRef(),u=r.a.useRef(),d=r.a.useRef(),f=r.a.useRef();r.a.useEffect((function(){f.current=function(){d.current++;var a=s.current.alpha()>.05;a&&s.current.tick(),c(e,t,u.current,d.current,a),o.current=requestAnimationFrame(f.current)}}),a.concat([e,t,c])),r.a.useEffect((function(){d.current=0,s.current=Object(m.d)(e).force("link",Object(m.b)(t).id((function(e){return e.id}))).force("charge",Object(m.c)()).force("center",Object(m.a)(n/i/2,l/i/2)).stop();var a={};return e.forEach((function(e){a[e.id]={node:e,neighbours:[]}})),t.forEach((function(e){a[e.source.id].neighbours.push({id:e.target.id,priority:e.priority}),a[e.target.id].neighbours.push({id:e.source.id,priority:e.priority})})),u.current=a,o.current=requestAnimationFrame(f.current),function(){return cancelAnimationFrame(o.current)}}),[])},f=a(1),E=a(4),h=a(49),p=a(50),y=function(e){switch(e){case"SUSCEPTIBLE":return"#777";case"INFECTED":return"#c60";case"SEVERE_CASE":return"#900";case"RECOVERED":return"#979";case"DIED":return"black";case"IMMUNO":return"#5389AF";case"HOSPITALIZED":default:return"green"}},g=function(e){return"SUSCEPTIBLE"===e?"#ddd":y(e)},x=function(e){var t=e.populationTimeSeries,a=e.statesList,n=e.changeDays,l=a.map((function(e){return e.key})).reduce((function(e,a){return e+(t[0][a]?t[0][a]:0)}),0),i=Object(E.a)().domain([0,l]).range([0,62]),c=t.length+1,o=Object(E.a)().domain([0,t.length+1]).range([0,Math.min(5*c,Math.min(600,window.innerWidth))]),s={};return a.slice(0).forEach((function(e,t,a){s[e.key]=Object(h.a)().x((function(e,t){return o(t)})).y0((function(e){var n=a.slice(0,t).reduce((function(t,a){return t+(e[a.key]?e[a.key]:0)}),0);return i(n)})).y1((function(e){var n=a.slice(0,t+1).reduce((function(t,a){return t+e[a.key]}),0);return i(n)})).curve(p.a)})),r.a.createElement("div",null,r.a.createElement("div",{className:"legend-wrapper"},a.map((function(e){var a=t[t.length-1][e.key];return r.a.createElement("span",{className:"legend-item",key:e.key},r.a.createElement("span",{className:"legend-count",style:{background:y(e.key)}},a),e.label)}))),r.a.createElement("svg",{className:"population-graph",width:"100%",height:107},r.a.createElement("line",{y1:"64.5",y2:"64.5",x2:"600",stroke:"#333"}),Object(f.h)(Math.floor(t.length/7)+1).map((function(e){return r.a.createElement("g",{key:e,transform:"translate(".concat(o(7*e),", 0)")},r.a.createElement("line",{y1:"65",y2:"70",stroke:"#333"}),r.a.createElement("text",{className:"axis-label",textAnchor:0===e?"start":"middle",y:"83"},e))})),r.a.createElement("text",{className:"axis-label",textAnchor:"start",fontWeight:"bold",y:"96"},"Week"),a.map((function(e,a){return r.a.createElement("path",{key:a,d:s[e.key](t),fill:g(e.key)})})),n?r.a.createElement("g",null,n.map((function(e){var t=o(e);return r.a.createElement("line",{key:"line-".concat(e),y2:"65",x1:t,x2:t,stroke:"black"})})),Object(f.f)(n).filter((function(e,t){return t%2===0})).map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"bar-".concat(t)},r.a.createElement("rect",{x:o(e[0]),y:"65",height:5,width:o(e[1])-o(e[0]),style:{fill:"url(#diagonal-stripe-2)"}}))}))):null))},v=function(e){var t=e.width,a=void 0===t?400:t,n=e.height,l=void 0===n?400:n,i=e.graph,c=e.simulator,o=e.initializeSimulationState,m=e.statesList,f=e.linkRenderer,E=e.nodesRenderer,h=e.framesPerDay,p=void 0===h?4:h,y=e.zoom,g=void 0===y?1:y,v=e.controls,b=void 0===v?{}:v,S=e.children,O=r.a.useRef(),I=r.a.useRef(),k=r.a.useRef(),M=r.a.useRef(),C=r.a.useRef(),A=r.a.useRef(),T=Object(u.a)({threshold:0}),N=Object(s.a)(T,3),R=N[0],D=N[1],j=(N[2],Object(u.a)({threshold:.9})),w=Object(s.a)(j,2),L=w[0],P=w[1],B=r.a.useState(!0),F=Object(s.a)(B,2),W=F[0],H=F[1],z=r.a.useState(o(i)),V=Object(s.a)(z,2),U=V[0],Y=V[1],_=r.a.useState(!1),X=Object(s.a)(_,2),Z=X[0],q=X[1],K=a<window.innerWidth?a:window.innerWidth,G=a<window.innerWidth?l:l/a*window.innerWidth,J=[];b.linksInPlay&&b.linksInPlay.changeDays&&(J=b.linksInPlay.changeDays),d(i.nodes,i.links,[Z,U,D,P,W],a,l,g,(function(e,t,n,r,i){var o=O.current.getContext("2d"),s=I.current.getContext("2d"),u=window.devicePixelRatio*g;s.scale(u,u),o.scale(u,u);var m=U.history.length;Y((function(u){var d,h=b!==k.current,y=D!==C.current;if(D){var x=J.indexOf(m)>=0&&r%p===0;(y||i||h||!0===M.current||x)&&(s.clearRect(0,0,a/g,l/g),f&&f(s,t,b,m)),(y||Z||i||!0===M.current)&&(o.clearRect(0,0,a/g,l/g),E&&E(o,e,u.population,m,r,p,b))}return d=r%p===0&&Z?c(e,n,u,b):u,k.current=b,M.current=!1,d})),q((function(e){var t=P!==A.current,a=U.history[U.history.length-1];return t&&P&&W?(H(!1),!0):e&&a.INFECTED>0})),A.current=P,C.current=D,s.setTransform(1,0,0,1,0,0),o.setTransform(1,0,0,1,0,0)}));var $=window.devicePixelRatio;return r.a.createElement("div",{className:"simulation-wrapper",ref:R},r.a.createElement("div",null,S),r.a.createElement("div",{className:"canvas-stack",ref:L},r.a.createElement("canvas",{className:"links-canvas",ref:I,width:a*$,height:l*$,style:{width:"".concat(K,"px"),height:"".concat(G,"px")}}),r.a.createElement("canvas",{className:"nodes-canvas",ref:O,width:a*$,height:l*$,style:{width:"".concat(K,"px"),height:"".concat(G,"px")}})),r.a.createElement("div",{className:"simulation-stats",ref:L},r.a.createElement(x,{populationTimeSeries:U.history,statesList:m,changeDays:J})),r.a.createElement("div",{className:"simulation-controls"},r.a.createElement("button",{onClick:function(){q(!Z)}},Z?"Stop":"Start"),r.a.createElement("button",{onClick:function(){Y(o(i)),q(!1),M.current=!0}},"Reset")))},b=a(8),S="M -1.5 0 \nA 3 3 0 1 1 1.5 0 \nA 13 13 0 0 1 6 6\nA 12 12 0 0 1 2.3 4\nA 18 18 0 0 1 2.5 14\nA 14 14  0 0 0 0 9\nA 14 14  0 0 0 -2.5 14\nA 18 18 0 0 1 -2.3 4\nA 12 12 0 0 1 -6 6\nA 13 13 0 0 1 -1.5 0\nz",O="M -1.2 0.5 \nA 3 3 0 1 1 0.8 -0.9 \nA 16 16 0 0 1 6 14\nA 14 14 0 0 0 2.5 9\nA 14 14 0 0 1 -1 14\nA 16 16 0 0 0 -1.5 5.5\nA 16 16 0 0 1 -4.5 5.5\nL -4.5 13\nL -6 13\nL -6 4.5\nA 12 12 0 0 0 -1.2 0.5\nz",I="M -1.5 0 \nA 3 3 0 1 1 1.5 0 \nA 15 15 0 0 1 5 2\nA 12 12 0 0 1 1.7 2\nA 12 12 0 0 1 2.5 6\nA 9  9  0 0 1 0 4\nA 9  9  0 0 1 -2.5 6\nA 12 12 0 0 1 -1.7 2\nA 12 12 0 0 1 -5 2\nA 15 15 0 0 1 -1.5 0\nz",k=function(e){return{population:function(){var t={};return e.nodes.forEach((function(e){t[e.id]={status:"SUSCEPTIBLE",infectionDate:null}})),t.a.status="INFECTED",t}(),history:[{SUSCEPTIBLE:e.nodes.length-1,RECOVERED:0,INFECTED:1}]}},M=function(e,t,a,n){var r=n.infectionChance,l=void 0===r?.1:r,i=n.infectionLength,c=void 0===i?21:i,o=a.population,s=a.history,u=s.length,m={SUSCEPTIBLE:0,INFECTED:0,RECOVERED:0},d=[],f=[];e.forEach((function(e){if("SUSCEPTIBLE"===o[e.id].status){var a=t[e.id].neighbours.filter((function(e){return"INFECTED"===o[e.id].status})),n=Math.pow(1-l,a.length);Math.random()>n?(d.push(e.id),m.INFECTED=m.INFECTED?m.INFECTED+1:1):m.SUSCEPTIBLE=m.SUSCEPTIBLE?m.SUSCEPTIBLE+1:1}"INFECTED"===o[e.id].status&&(u-o[e.id].infectionDate>c?(f.push(e.id),m.RECOVERED=m.RECOVERED?m.RECOVERED+1:1):m.INFECTED=m.INFECTED?m.INFECTED+1:1),"RECOVERED"===o[e.id].status&&(m.RECOVERED=m.RECOVERED?m.RECOVERED+1:1)}));var E=Object(b.a)({},o);d.forEach((function(e){E[e].status="INFECTED",E[e].infectionDate=u})),f.forEach((function(e){E[e].status="RECOVERED"}));var h=s.slice(0);return h.push(m),{population:E,environment:{},history:h}},C=function(e,t,a){function n(t){e.moveTo(t.source.x,t.source.y),e.lineTo(t.target.x,t.target.y)}e.beginPath(),t.forEach((function(e){a&&a.isNonEssentialWorkSuspended?"NON-ESSENTIAL-WORK"!==e.priority&&"FRIENDS"!==e.priority&&n(e):n(e)})),e.strokeStyle="#aaa",e.stroke()},A=function(e,t,a,n,r,l,i){var c=n-1;t.forEach((function(t){var n=0;c===a[t.id].infectionDate&&(n=3*Math.sin(r%l/(2*l)*2*Math.PI)),e.translate(t.x,t.y-n);var i,o,s=new Path2D("elder"===t.age?O:"child"===t.age?I:S);e.fillStyle=(i=a[t.id].status,o=t.immuno,y("SUSCEPTIBLE"===i?o?"IMMUNO":"SUSCEPTIBLE":i)),e.fill(s),e.translate(-t.x,-t.y+n)}))},T=[{key:"RECOVERED",label:"Recovered"},{key:"SUSCEPTIBLE",label:"Susceptible"},{key:"INFECTED",label:"Infected"}],N={nodes:[{id:"a",status:"INFECTED"},{id:"b"},{id:"c"},{id:"a2"},{id:"a3"},{id:"b2"},{id:"c2",age:"elder"},{id:"c3"},{id:"d1"},{id:"d2",age:"elder",immuno:!0},{id:"d3",age:"elder"},{id:"d4"},{id:"d5"},{id:"d6"},{id:"d7",age:"elder"},{id:"d8"},{id:"d9",age:"elder"},{id:"d10"},{id:"d11"},{id:"d12",age:"child"},{id:"e1"},{id:"e2",age:"elder"},{id:"e3"},{id:"e4"},{id:"e5"},{id:"e6"},{id:"e7"},{id:"e8",age:"elder",immuno:!0},{id:"f",age:"elder",immuno:!0},{id:"g",age:"child",immuno:!0}],links:[{source:"a",target:"b",priority:"CONTACT"},{source:"a",target:"c",priority:"CONTACT"},{source:"b",target:"c",priority:"CONTACT"},{source:"a",target:"a2",priority:"CONTACT"},{source:"a",target:"a3",priority:"CONTACT"},{source:"b",target:"b2",priority:"CONTACT"},{source:"c",target:"c2",priority:"CONTACT"},{source:"c",target:"c3",priority:"CONTACT"},{source:"a2",target:"d1",priority:"CONTACT"},{source:"a2",target:"d2",priority:"CONTACT"},{source:"a2",target:"d3",priority:"CONTACT"},{source:"a2",target:"d4",priority:"CONTACT"},{source:"a2",target:"d5",priority:"CONTACT"},{source:"a2",target:"d6",priority:"CONTACT"},{source:"a2",target:"d7",priority:"CONTACT"},{source:"a2",target:"d8",priority:"CONTACT"},{source:"a2",target:"d9",priority:"CONTACT"},{source:"a2",target:"d10",priority:"CONTACT"},{source:"a2",target:"d11",priority:"CONTACT"},{source:"a2",target:"d12",priority:"CONTACT"},{source:"b2",target:"e1",priority:"CONTACT"},{source:"b2",target:"e2",priority:"CONTACT"},{source:"b2",target:"e3",priority:"CONTACT"},{source:"b2",target:"e4",priority:"CONTACT"},{source:"b2",target:"e5",priority:"CONTACT"},{source:"b2",target:"e6",priority:"CONTACT"},{source:"b2",target:"e7",priority:"CONTACT"},{source:"b2",target:"e8",priority:"CONTACT"},{source:"c2",target:"f",priority:"CONTACT"},{source:"e3",target:"g",priority:"CONTACT"}]},R=function(e){var t=e.portalId;return i.a.createPortal(r.a.createElement(v,{width:600,height:600,graph:N,simulator:M,statesList:T,initializeSimulationState:k,linkRenderer:C,nodesRenderer:A,framesPerDay:6,zoom:1.75}),document.getElementById(t))},D=function(e){return{population:function(){var t={};return e.nodes.forEach((function(e){t[e.id]={status:"SUSCEPTIBLE",infectionDate:null}})),t.a.status="INFECTED",t}(),queue:[],history:[{SUSCEPTIBLE:e.nodes.length-1,RECOVERED:0,SEVERE_CASE:0,HOSPITALIZED:0,DIED:0,INFECTED:1}]}},j=function(e,t){var a=e.indexOf(t);a>=0&&e.splice(a,1)},w=function(e,t){return!0},L=function(e,t,a,n){var r=n.numberOfBeds,l=void 0===r?1:r,i=n.linksInPlay,c=void 0===i?w:i,o=n.infectionChance,s=void 0===o?.02:o,u=n.infectionLength,m=void 0===u?22:u,d=n.percentageNotSevere,f=void 0===d?.9:d,E=n.immunoNoBeds,h=n.immunoWithBed,p=n.severeNoBeds,y=n.severeWithBeds,g=a.population,x=a.history,v=a.queue,S=x.length,O=function(e){return Math.pow(e,1/m)},I=function(e,t){return e.indexOf(t)<0&&e.push(t),e.indexOf(t)<l?"HOSPITALIZED":"SEVERE_CASE"},k=O(f),M=O(y),C=O(p),A=O(h),T=O(E),N={SUSCEPTIBLE:0,INFECTED:0,SEVERE_CASE:0,HOSPITALIZED:0,DIED:0,RECOVERED:0},R={INFECTED:[],SEVERE_CASE:[],HOSPITALIZED:[],DIED:[],RECOVERED:[]};e.forEach((function(e){var a=g[e.id].status;if("SUSCEPTIBLE"===g[e.id].status){var n=t[e.id].neighbours.filter((function(e){return c(e.priority,S)&&("INFECTED"===g[e.id].status||"SEVERE_CASE"===g[e.id].status)})),r=Math.pow(1-s,n.length);Math.random()>r&&(a=e.immuno?I(v,e.id):"INFECTED")}if("INFECTED"===g[e.id].status&&(S-g[e.id].infectionDate>m?a="RECOVERED":Math.random()>k&&(a=I(v,e.id))),"HOSPITALIZED"===g[e.id].status){var l=e.immuno?A:M;Math.random()>l?(a="DIED",j(v,e.id)):S-g[e.id].infectionDate>m&&(a="RECOVERED",j(v,e.id))}if("SEVERE_CASE"===g[e.id].status){var i=e.immuno?T:C;Math.random()>i?(a="DIED",j(v,e.id)):S-g[e.id].infectionDate>m?(a="RECOVERED",j(v,e.id)):a=I(v,e.id)}"RECOVERED"===g[e.id].status&&(a="RECOVERED"),N[a]=N[a]?N[a]+1:1,g[e.id].status!==a&&R[a].push(e.id)}));var D=Object(b.a)({},g);Object.keys(R).forEach((function(e){R[e].forEach((function(t){D[t].status=e,"INFECTED"!==e&&"SEVERE_CASE"!==e||(D[t].infectionDate=S)}))}));var L=x.slice(0);return L.push(N),{population:D,queue:v,history:L}},P=function(e,t,a,n){var r=a.linksInPlay,l=void 0===r?w:r;e.lineWidth=1,e.beginPath(),t.forEach((function(t){l(t.priority,n)&&function(t){e.moveTo(t.source.x,t.source.y),e.lineTo(t.target.x,t.target.y)}(t)})),e.strokeStyle="#ddd",e.stroke()},B=function(e,t,a,n,r,l,i){var c=n-1,o=[],s=function(t){var n,i=0;if(c===a[t.id].infectionDate&&(i=3*Math.sin(r%l/(2*l)*2*Math.PI)),e.translate(t.x,t.y-i),"HOSPITALIZED"===a[t.id].status&&(e.beginPath(),e.arc(0,3,12,0,2*Math.PI,!0),e.lineWidth=3,e.strokeStyle=y("HOSPITALIZED"),e.stroke(),e.fillStyle=y("HOSPITALIZED"),e.fill()),"SEVERE_CASE"===a[t.id].status&&(e.beginPath(),e.arc(0,3,12,0,2*Math.PI,!0),e.lineWidth=3,e.strokeStyle=y("SEVERE_CASE"),e.stroke(),e.fillStyle=y("SEVERE_CASE"),e.fill()),"DIED"===a[t.id].status)n="M -3 -5 \nA 3 3 0 0 1 3 -5\nL 5 -5\nL 5 10\nL -5 10\nL -5 -5\nz\nM 1 1\nL 3 -1\nL 2 -2\nL 0 0\nL -2 -2\nL -3 -1\nL -1 1\nL -3 3\nL -2 4\nL 0 2\nL 2 4\nL 3 3\nz";else switch(t.age){case"elder":n=O;break;case"child":n=I;break;default:n=S}var o,s,u=new Path2D(n);e.fillStyle="DIED"!==a[t.id].status?(o=a[t.id].status,s=t.immuno,"SUSCEPTIBLE"===o?y(s?"IMMUNO":"SUSCEPTIBLE"):"SEVERE_CASE"===o||"HOSPITALIZED"===o?"white":y(o)):"black",e.fill(u),e.translate(-t.x,-t.y+i)};t.forEach((function(e){"HOSPITALIZED"===a[e.id].status||"SEVERE_CASE"===a[e.id].status?o.push(e):s(e)})),o.forEach(s)},F=[{key:"RECOVERED",label:"Recovered"},{key:"SUSCEPTIBLE",label:"Susceptible"},{key:"INFECTED",label:"Infected"},{key:"SEVERE_CASE",label:"Needs Hospital Bed"},{key:"HOSPITALIZED",label:"Hospitalized"},{key:"DIED",label:"Died"}],W=function(e){var t=e.portalId,a=e.graph,n=e.deathRates;return i.a.createPortal(r.a.createElement(v,{width:600,height:550,simulator:L,statesList:F,initializeSimulationState:D,linkRenderer:P,nodesRenderer:B,graph:a,controls:n,zoom:.75}),document.getElementById(t))},H=function(e){var t=e.portalId,a=e.graph,n=e.deathRates,l=r.a.useState(!0),c=Object(s.a)(l,2),o=c[0],u=c[1],m=r.a.useState(!0),d=Object(s.a)(m,2),f=d[0],E=d[1],h=r.a.useState(!0),p=Object(s.a)(h,2),y=p[0],g=p[1],x=r.a.useState(!0),S=Object(s.a)(x,2),O=S[0],I=S[1],k=r.a.useState(!0),M=Object(s.a)(k,2),C=M[0],A=M[1],T={"IMMEDIATE-FAMILY":C,FAMILY:O,"ESSENTIAL-WORK":o,"NON-ESSENTIAL-WORK":f,FRIENDS:y};return i.a.createPortal(r.a.createElement(v,{width:600,height:500,simulator:L,statesList:F,initializeSimulationState:D,linkRenderer:P,nodesRenderer:B,graph:a,zoom:.75,controls:Object(b.a)({},n,{linksInPlay:function(e,t){return T[e]}})},r.a.createElement("span",{className:"connection-types"},"Connection Types:"),r.a.createElement("div",{className:"connection-controls"},r.a.createElement("label",null,r.a.createElement("input",{name:"isFriendsOn",type:"checkbox",checked:y,onChange:function(){g(!y)}}),"Social Contact"),r.a.createElement("label",null,r.a.createElement("input",{name:"isNEWorkOn",type:"checkbox",checked:f,onChange:function(){E(!f)}}),"Non-essential Work"),r.a.createElement("label",null,r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:o,onChange:function(){u(!o)}}),"Essential Work"),r.a.createElement("label",null,r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:O,onChange:function(){I(!O)}}),"Family"),r.a.createElement("label",null,r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:C,onChange:function(){A(!C)}}),"Immediate Family"))),document.getElementById(t))},z=11/Math.sqrt(2),V="M 0 0 L -".concat(z," ").concat(z," A 11 11 1 1 0 ").concat(z," ").concat(z," z"),U=function(e){var t=e.portalId,a=e.graph,l=e.deathRates,c=Object(n.useRef)(),o=Object(n.useState)(10),u=Object(s.a)(o,2),m=u[0],d=u[1],h=Object(n.useState)(40),p=Object(s.a)(h,2),y=p[0],g=p[1],x=Object(n.useState)(null),S=Object(s.a)(x,2),O=S[0],I=S[1],k={"IMMEDIATE-FAMILY":!0,FAMILY:!1,"ESSENTIAL-WORK":!0,"NON-ESSENTIAL-WORK":!1,FRIENDS:!1},M=function(e,t){return!(t>=m&&t<y)||k[e]},C=Math.min(600,window.innerWidth),A=[0,180],T=Object(E.a)().domain(A).range([14,C-14]),N=Math.round(5*A[1]/C);M.changeDays=[m,y];var R=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,a=c.current.getBoundingClientRect(),n=T.invert(t-a.left);I({mouseStart:n,prevStart:m,prevEnd:y})},j=function(){I(null)},w=function(e,t){if(O){var a=e.touches?e.touches[0].clientX:e.clientX,n=c.current.getBoundingClientRect();t(T.invert(a-n.left))}},W=function(e){w(e,(function(e){var t=Math.round(e-O.mouseStart),a=O.prevEnd-O.prevStart,n=Math.min(A[1]-a,Math.max(0,O.prevStart+t));d(n),g(n+a)}))},H=function(e){w(e,(function(e){var t=Math.abs(O.mouseStart-O.prevStart),a=Math.abs(O.mouseStart-O.prevEnd);if(!(t>15&&a>15))if(t>a){var n=Math.round(e-O.mouseStart),r=Math.min(A[1],Math.max(m+1,O.prevEnd+n));g(r)}else{var l=Math.round(e-O.mouseStart),i=Math.min(y-1,Math.max(0,O.prevStart+l));d(i)}}))};return i.a.createPortal(r.a.createElement(v,{width:600,height:550,simulator:L,statesList:F,initializeSimulationState:D,linkRenderer:P,nodesRenderer:B,graph:a,zoom:.75,controls:Object(b.a)({},l,{linksInPlay:M})},r.a.createElement("span",{className:"connection-types"},"Social Distancing Enforcement Period:"),r.a.createElement("div",{className:"connection-controls"},r.a.createElement("svg",{width:"100%",height:"88",ref:c},r.a.createElement("rect",{x:T(A[0]),y:20,width:T(A[1])-T(A[0]),height:40,fill:"#f1f1f1"}),Object(f.h)(Math.floor(A[1]/7)+1).filter((function(e){var t=7*e;return t<m-2||t>y+2})).map((function(e){return r.a.createElement("g",{key:e,transform:"translate(".concat(T(7*e),",0)")},r.a.createElement("line",{y1:"16",y2:"20",stroke:"#777"}),0===e||e%N===0?r.a.createElement("text",{y:"12",fontSize:"10",textAnchor:"middle"},0===e?"Day":null," ",7*e):null)})),r.a.createElement("text",{x:T(m),y:"13",fill:"green",fontWeight:"bold",textAnchor:"middle"},m),r.a.createElement("text",{x:T(y),y:"13",fill:"green",fontWeight:"bold",textAnchor:"middle"},y),r.a.createElement("rect",{x:T(m),y:20,width:T(y)-T(m),height:40,style:{fill:"url(#diagonal-stripe-2)"},onTouchStart:R,onMouseDown:R,onTouchEnd:j,onMouseUp:j,onMouseMove:W,onTouchMove:W}),r.a.createElement("g",{transform:"translate(".concat(T(m),",60)")},r.a.createElement("path",{d:V,fill:"#888"}),r.a.createElement("circle",{cx:0,cy:11,r:22,opacity:0,fill:"red"})),r.a.createElement("g",{transform:"translate(".concat(T(y),",60)")},r.a.createElement("path",{d:V,fill:"#888"}),r.a.createElement("circle",{cx:0,cy:11,r:22,opacity:0,fill:"red"})),r.a.createElement("rect",{width:C,height:"30",y:"60",fill:"red",opacity:0,onTouchStart:R,onMouseDown:R,onTouchEnd:j,onMouseUp:j,onMouseMove:H,onTouchMove:H})))),document.getElementById(t))},Y=function(e,t){var a=[],n=[],r=[];function l(e){return e[Math.floor(Math.random()*e.length)]}function i(){return l(n)}var c=Object(f.h)(t).map((function(e){var t={id:"i"+e,age:Math.random()>.5?"elder":Math.random()>.5?"child":"adult",immuno:!0};switch(t.age){case"child":r.push(t);break;case"adult":n.push(t);break;default:a.push(t)}return t})),o=Object(f.h)(e-t).map((function(e){var t=85*Math.random(),l={id:e,age:t<14?"child":t>65?"elder":"adult",immuno:!1};switch(l.age){case"child":r.push(l);break;case"adult":n.push(l);break;default:a.push(l)}return l}));n[0].id="a",n[0].fx=400,n[0].fy=400;var s=Object(f.i)(o.concat(c));var u=[],m=[i(),i()],d=[];r.forEach((function(e,t){Math.random()>.9?(m.forEach((function(t){u.push({source:e.id,target:t.id,priority:"IMMEDIATE-FAMILY"})})),d.forEach((function(t){u.push({source:e.id,target:t.id,priority:"IMMEDIATE-FAMILY"})})),d.push(e)):(Math.random()>.6?(m=[i()],u.push({source:e.id,target:m[0].id,priority:"IMMEDIATE-FAMILY"})):(m=[i(),i()],u.push({source:e.id,target:m[0].id,priority:"IMMEDIATE-FAMILY"}),u.push({source:e.id,target:m[1].id,priority:"IMMEDIATE-FAMILY"}),u.push({source:m[0].id,target:m[1].id,priority:"IMMEDIATE-FAMILY"})),d=[e]),Math.random()>.5&&u.push({source:e.id,target:l(a).id,priority:"FAMILY"})})),a.forEach((function(e){u.push({source:e.id,target:i().id,priority:"FAMILY"}),Math.random()>.4&&u.push({source:e.id,target:l(s).id,priority:"FRIENDS"})}));var E=[],h=[],p=[],y=[];n.forEach((function(e,t){var a=Math.max(0,Math.floor(Math.pow(1+Math.random()/2,2)));Object(f.h)(a).forEach((function(t){u.push({source:e.id,target:i().id,priority:"FRIENDS"})}));var n=Math.random();n<.2?E.push(e):n<.3?h.push(e):n<.8?p.push(e):y.push(e)}));h.forEach((function(e){for(var t=0;t<n.length;)u.push({source:e.id,target:n[t].id,priority:"ESSENTIAL-WORK"}),t+=Math.floor(Math.random()*n.length/3)}));E.forEach((function(e){for(var t=Math.floor(Math.random()*n.length/6);t<n.length;)u.push({source:e.id,target:n[t].id,priority:"NON-ESSENTIAL-WORK"}),t+=Math.floor(Math.random()*n.length/6)}));for(var g=function e(t){if(!(t.length<=1)){var a=t[0],n=t.slice(1);n.forEach((function(e){u.push({source:a.id,target:e.id,priority:"NON-ESSENTIAL-WORK"})})),e(n)}},x=0;x<p.length;){var v=Math.min(Math.ceil(5*Math.random())+1,p.length-x);g(Object(f.h)(v).map((function(e){return p[e+x]}))),x+=v+1}for(var b=0;b<y.length;){var S=Math.min(Math.ceil(6*Math.random())+9,y.length-b);g(Object(f.h)(S).map((function(e){return y[e+b]}))),b+=S+1}return{nodes:s,links:u}},_=a(35),X=a(51),Z=a(25),q=a.n(Z),K=a(52);function G(e){return Object.assign({},e)}var J=Object(K.a)("~s"),$=Object(K.a)(","),Q=function(e,t,a,n,r){var l=q()(a,e,t,n),i=t,c=a,o=[],s=[];o.push(t),s.push(G(c));for(var u=0,m=0;!((i+=n)>r);)l=l.step(),s.push(G(l.y)),o.push(i),l.y[1]>u&&(u=l.y[1],m=o.length);return{t:o,y:s,peakInfected:u,peakIndex:m}},ee=Object(E.a)().domain([0,400]).clamp(!0),te=function(e){var t=e.portalId,a=Object(n.useState)(.12),l=Object(s.a)(a,2),c=l[0],o=(l[1],Object(n.useState)(.06)),u=Object(s.a)(o,2),m=u[0],d=(u[1],Object(n.useState)(.05)),p=Object(s.a)(d,2),y=p[0],g=(p[1],Object(n.useState)(104)),x=Object(s.a)(g,2),v=x[0],b=x[1],S=Object(n.useRef)(),O=Object(n.useState)(null),I=Object(s.a)(O,2),k=I[0],M=I[1],C=Object(n.useState)(null),A=Object(s.a)(C,2),T=A[0],N=A[1],R=Object(n.useState)(null),D=Object(s.a)(R,2),j=D[0],w=D[1],L=Object(n.useState)(null),P=Object(s.a)(L,2),B=P[0],F=P[1],W=Object(n.useState)(!1),H=Object(s.a)(W,2),z=H[0],V=H[1],U=Object(n.useState)(!1),Y=Object(s.a)(U,2),Z=Y[0],q=Y[1],K=.001,G=Object(n.useRef)(),te=Object(n.useRef)();r.a.useEffect((function(){G.current=function(){var e,t=S.current.getBoundingClientRect(),a=Math.max(0,-(t.top-window.innerHeight+150)),n=Math.round((e=a,104-50*Object(X.a)(ee(e))));Z||(b(n),te.current=requestAnimationFrame(G.current))}}),[Z]),r.a.useEffect((function(){G.current()}),[]),Object(n.useEffect)((function(){var e=Q((function(e,t,a){var n=a<v?c:m;e[0]=-n*t[0]*t[1],e[1]=n*t[0]*t[1]-y*t[1],e[2]=y*t[1]}),0,[.999,K,0],1,400);N({index:e.peakIndex,value:e.peakInfected}),M(e.y)}),[v,c,m]),Object(n.useEffect)((function(){var e=Q((function(e,t,a){var n=c;e[0]=-n*t[0]*t[1],e[1]=n*t[0]*t[1]-y*t[1],e[2]=y*t[1]}),0,[.999,K,0],1,400);F({index:e.peakIndex,value:e.peakInfected}),w(e.y)}),[c]);var ae=Object(E.a)().domain([0,1]).range([300,0]),ne=Math.min(window.innerWidth,600),re=Object(E.a)().domain([0,400]).range([25,ne-25]),le=Object(_.a)().x((function(e,t){return re(t)})).y((function(e){return ae(e[1]+e[0])})),ie=Object(h.a)().x((function(e,t){return re(t)})).y1((function(e){return ae(e[1]+e[0])})).y0((function(e){return ae(e[1])})),ce=Object(_.a)().x((function(e,t){return re(t)})).y((function(e){return ae(e[1])})),oe=Object(h.a)().x((function(e,t){return re(t)})).y1((function(e){return ae(e[1])})).y0(ae(0)),se=(Object(_.a)().x((function(e,t){return re(t)})).y((function(e){return ae(e[1]+e[0])})),Object(h.a)().x((function(e,t){return re(t)})).y1(ae(1)).y0((function(e){return ae(e[1]+e[0])}))),ue=function(e){e.preventDefault();var t=e.touches?e.touches[0].clientX:e.clientX,a=S.current.getBoundingClientRect(),n=1*re.invert(t-a.left);b(n),q(!0),V(!0)},me=function(){V(!1)},de=function(e){if(e.preventDefault(),z){var t=e.touches?e.touches[0].clientX:e.clientX,a=S.current.getBoundingClientRect(),n=1*re.invert(t-a.left);b(n)}},fe=re(v/1),Ee=null,he=null;T&&B&&(Ee=(B.value-T.value)/B.value,he=1*(T.index-B.index));var pe=ne-120;return j&&(Math.round(1e5*j[Math.round(70)][1]),Math.round(1e5*j[Math.round(140)][1])),i.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sir-legend",style:{userSelect:"none"}},r.a.createElement("strong",null,"Infected Population:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"sir-legend-item"},r.a.createElement("svg",{className:"sir-inline-legend",width:"12",height:"12"},r.a.createElement("g",{transform:"translate(4,11)"},r.a.createElement("polyline",{points:"0,0 0,-10 6,-7 0,-4",stroke:"red",fill:"none"})),r.a.createElement("line",{x2:"12",y1:"11",y2:"11",stroke:"red",strokeDasharray:"2,1"}))," Given No Social Distancing ",B?r.a.createElement("span",null,"\u2013\xa0Peak Infections: ",r.a.createElement("strong",null,$(Math.round(1e5*B.value)))):null)),r.a.createElement("li",null,r.a.createElement("span",{className:"sir-legend-item"},r.a.createElement("svg",{className:"sir-inline-legend",width:"12",height:"14"},r.a.createElement("g",{transform:"translate(4,11)"},r.a.createElement("polyline",{points:"0,0 0,-10 6,-7 0,-4",stroke:"red",fill:"red"})),r.a.createElement("line",{x2:"12",y1:"11",y2:"11",stroke:"red",strokeWidth:"2"}))," With Social Distancing starting Day ",Math.round(v),T?r.a.createElement("span",null," \u2013\xa0Peak Infections: ",r.a.createElement("strong",null,$(Math.round(1e5*T.value)))):null)))),r.a.createElement("svg",{width:"100%",height:"400",className:"SIR-svg",ref:S,onTouchStart:ue,onMouseDown:ue,onTouchEnd:me,onMouseUp:me,onMouseMove:de,onTouchMove:de},r.a.createElement("g",{transform:"translate(0, 50)"},r.a.createElement("g",{className:"sir-x-axis",transform:"translate(0,300)"},r.a.createElement("line",{x1:"0",x2:"600",stroke:"black"}),Object(f.h)(Math.floor(400/7)).map((function(e){var t=re(7*e/1);return r.a.createElement("g",{key:e,transform:"translate(".concat(t,",0)")},r.a.createElement("line",{y2:e%6===0?7:4,stroke:"black"}),e%6===0?r.a.createElement("text",{y:"16",style:{fontSize:"10px",fill:"#888"},textAnchor:"middle"},"Week ",e):null)}))),r.a.createElement("g",{className:"sir-y-axis"},Object(f.h)(20).map((function(e){var t=e+1;return r.a.createElement("g",{key:e,transform:"translate(0,".concat(ae(t/20),")")},r.a.createElement("line",{x1:t%5===0?11:17,x2:22,stroke:"#222"}),t%5===0?r.a.createElement("text",{y:"-2",x:"22",textAnchor:"end",style:{fontSize:"10px",fill:"#222"}},J(1e5*t/20)):null)}))),k?r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:ie(k),fill:"#aaa"}),r.a.createElement("path",{d:oe(k),stroke:"none",fill:"#c60"}),r.a.createElement("path",{d:se(k),fill:"#979"}),r.a.createElement("path",{d:ce(j),stroke:"red",strokeWidth:"2",strokeDasharray:"2,1",fill:"none"}),r.a.createElement("path",{id:"text-path-line",d:le(k),fill:"none",stroke:"none"}),r.a.createElement("g",{transform:"translate(0, 11)"},r.a.createElement("text",{style:{fontSize:"10px",fill:"#555"}},r.a.createElement("textPath",{href:"#text-path-line",startOffset:"3"},"Susceptible Population"))),r.a.createElement("text",{style:{fontSize:"10px",fill:"purple"},textAnchor:"end",x:re(k.length-1)-3,y:"11"},"Recovered Population")):null,B?r.a.createElement("g",{transform:"translate(".concat(re(B.index),", ").concat(ae(B.value),")")},r.a.createElement("polyline",{points:"0,0 0,-10 6,-7 0,-4",stroke:"red",fill:"none"})):null,T?r.a.createElement("g",{transform:"translate(".concat(re(T.index),", ").concat(ae(T.value),")")},r.a.createElement("polyline",{points:"0,0 0,-10 6,-7 0,-4",stroke:"red",fill:"red"})):null,Ee?r.a.createElement(r.a.Fragment,null,r.a.createElement("g",null,r.a.createElement("line",{x1:pe-30,x2:pe,y1:ae(B.value),y2:ae(B.value),stroke:"white",strokeDasharray:"1,2,1,2,80"}),r.a.createElement("line",{x1:re(B.index),x2:pe-30,y1:ae(B.value),y2:ae(B.value),stroke:"white",strokeDasharray:"1,4"}),r.a.createElement("line",{x1:pe-30,x2:pe,y1:ae(T.value),y2:ae(T.value),stroke:"white",strokeDasharray:"1,2,1,2,80"}),r.a.createElement("line",{x1:re(T.index),x2:pe-30,y1:ae(T.value),y2:ae(T.value),stroke:"white",strokeDasharray:"1,4"}),r.a.createElement("g",{transform:"translate(".concat(pe,",").concat((ae(B.value)+ae(T.value))/2,")")},r.a.createElement("text",{x:"2",y:"-5",style:{fontSize:"12px",fill:"#fff",fontWeight:"bold"}},"Peak Load"),r.a.createElement("text",{x:"2",y:"12",fill:"#fff",fontWeight:"bold"},"-",Math.round(100*Ee),"%")),Ee>.06?r.a.createElement("g",{transform:"translate(".concat(pe-12,", 0)")},r.a.createElement("polyline",{points:"-3, ".concat(ae(B.value)+1,"\n                    3, ").concat(ae(B.value)+1,"\n                    3, ").concat(ae(T.value)+-9,"\n                    6, ").concat(ae(T.value)+-9,"\n                    0, ").concat(ae(T.value)+-1,"\n                    -6, ").concat(ae(T.value)+-9,"\n                    -3, ").concat(ae(T.value)+-9,"\n                  "),fill:"white"})):null),he>0?r.a.createElement("g",null,r.a.createElement("g",{transform:"translate(".concat(re(T.index),",").concat(ae(B.value)-30,")")},r.a.createElement("text",{x:"2",y:"-20",style:{fontSize:"12px",fill:"#fff",fontWeight:"bold"}},"Peak Delay"),r.a.createElement("text",{x:"2",y:"-4",fill:"#fff",fontWeight:"bold"},"~",Math.round(he)," days")),he>2?r.a.createElement("g",{transform:"translate(0,".concat(ae(B.value)-40,")")},r.a.createElement("polyline",{points:"".concat(re(B.index),",-3\n                    ").concat(re(B.index),",3\n                    ").concat(re(T.index)-9,",3\n                    ").concat(re(T.index)-9,",6\n                    ").concat(re(T.index)-1,",0\n                    ").concat(re(T.index)-9,",-6\n                    ").concat(re(T.index)-9,",-3\n                  "),fill:"white"})):null):null):null),r.a.createElement("g",{transform:"translate(".concat(fe,",0)")},r.a.createElement("line",{y1:0,y2:350,strokeWidth:"1.5",stroke:"black"}),r.a.createElement("text",{y:"10",x:"3",style:{fontSize:"12px",fill:"#111",fontWeight:"bold"}},"Drag Me ",B&&v/1>B.index?"...maybe to the left":null),r.a.createElement("text",{y:"24",x:"3",style:{fontSize:"12px",fill:"#888"}},"Social Distancing begins "),r.a.createElement("text",{y:"38",x:"3",style:{fontSize:"12px",fill:"#888"}},"Day ",Math.round(v)," after ",100,"th case")),r.a.createElement("g",{transform:"translate(".concat(ne,",385)")},r.a.createElement("text",{style:{fontSize:"10px",fill:"#444"},textAnchor:"end"},"Toy simulation. \u03b2",r.a.createElement("tspan",{baselineShift:"sub",fontSize:"7px"},"1")," = ",c,", \u03b2",r.a.createElement("tspan",{baselineShift:"sub",fontSize:"7px"},"2")," = ",m,", and \u03b3 = ",y)))),document.getElementById(t))};a(47);function ae(e){return Object.assign({},e)}var ne=Object(K.a)("~s"),re=11/Math.sqrt(2),le="M 0 0 L -".concat(re," ").concat(re," A 11 11 1 1 0 ").concat(re," ").concat(re," z"),ie=function(){var e=r.a.useRef(),t=r.a.useState(.12),a=Object(s.a)(t,2),l=a[0],c=(a[1],r.a.useState(.06)),o=Object(s.a)(c,2),u=o[0],m=(o[1],r.a.useState(.05)),d=Object(s.a)(m,2),p=d[0],y=(d[1],Object(n.useState)([[70,140],[280,350]])),g=Object(s.a)(y,2),x=g[0],v=g[1],b=r.a.useState(null),S=Object(s.a)(b,2),O=S[0],I=S[1],k=r.a.useState(null),M=Object(s.a)(k,2),C=M[0],A=M[1],T=Object(n.useState)(null),N=Object(s.a)(T,2),R=N[0],D=N[1],j=function(e){return Math.min(546,Math.max(0,e))};Object(n.useEffect)((function(){var e=function(e,t,a,n,r){var l=q()(a,e,t,n),i=t,c=a,o=[],s=[];o.push(t),s.push(ae(c));for(var u=0,m=0;!((i+=n)>r);)l=l.step(),s.push(ae(l.y)),o.push(i),l.y[1]>u&&(u=l.y[1],m=o.length);return{t:o,y:s,peakInfected:u,peakIndex:m}}((function(e,t,a){var n=function(e){return x.reduce((function(t,a){return t||e>=1*a[0]&&e<1*a[1]}),!1)}(a)?u:l;e[0]=-n*t[0]*t[1],e[1]=n*t[0]*t[1]-p*t[1],e[2]=p*t[1]}),0,[.9999,1e-4,0],1,546);A({index:e.peakIndex,value:e.peakInfected}),I(e.y)}),[x,l,u]);var w=null===O?0:O[O.length-1][1]+O[O.length-1][2],L=Object(E.a)().domain([0,1]).range([400,100]),P=Math.min(window.innerWidth,600),B=Object(E.a)().domain([0,546]).range([25,P-100]),F=Object(h.a)().x((function(e,t){return B(t)})).y1((function(e){return L(e[1])})).y0(L(0)),W=Object(h.a)().x((function(e,t){return B(t)})).y1((function(e){return L(e[1]+e[2])})).y0((function(e){return L(e[1])})),H=Object(h.a)().x((function(e,t){return B(t)})).y1(L(1)).y0((function(e){return L(e[1]+e[2])})),z=function(t){t.preventDefault();var a=t.touches?t.touches[0].clientX:t.clientX,n=e.current.getBoundingClientRect(),r=B.invert(a-n.left),l=null,i=null,c=null;if(x.forEach((function(e,t){var a=Math.abs(e[0]-r),n=Math.abs(e[1]-r),o=a<n;(o?a:n)<11?(i=o,c=x[l=t].slice(0)):r>=e[0]&&r<e[1]&&(c=x[l=t].slice(0))})),null===l){l=x.length,i=!0,c=[r-2,r+5];var o=x.slice(0);o.push(c),v(o)}D({mouseStart:r,period:l,anchor:i,previousValue:c})},V=function(){D(null)},U=function(t){if(t.preventDefault(),R){var a=t.touches?t.touches[0].clientX:t.clientX,n=e.current.getBoundingClientRect(),r=B.invert(a-n.left)-R.mouseStart;if(null!==R.period){if(null!==R.anchor){var l=R.anchor?0:1,i=[j(R.previousValue[l]+r),R.previousValue[R.anchor?1:0]];x[R.period]=i.sort((function(e,t){return e-t}))}else x[R.period][0]=j(R.previousValue[0]+r),x[R.period][1]=j(R.previousValue[1]+r);v(x.slice(0))}}};return i.a.createPortal(r.a.createElement("div",null,r.a.createElement("span",{className:"sir-with-wave-legend"},r.a.createElement("span",{style:{marginRight:"10px",display:"inline-block"}},r.a.createElement("span",{style:{display:"inline-block",width:12,height:12,background:"#eee",borderRadius:"2px"}}),"\xa0Susceptible\xa0Population"),r.a.createElement("span",{style:{marginRight:"10px",display:"inline-block"}},r.a.createElement("span",{style:{display:"inline-block",width:12,height:12,background:"#c60",borderRadius:"2px"}}),"\xa0Infected\xa0Population"),r.a.createElement("span",{style:{marginRight:"10px",display:"inline-block"}},r.a.createElement("span",{style:{display:"inline-block",width:12,height:12,background:"#979",borderRadius:"2px"}}),"\xa0Recovered\xa0Population")),r.a.createElement("svg",{width:"100%",height:"560",ref:e},O?r.a.createElement("path",{d:H(O),stroke:"none",fill:"#eee"}):null,x.map((function(e,t){return r.a.createElement("g",{key:"period-".concat(t)},r.a.createElement("rect",{x:B(e[0]),width:B(e[1])-B(e[0]),y:20,height:500,fill:"#aaa",opacity:.2}),r.a.createElement("g",{transform:"translate(".concat(B(e[0]),",520)")},r.a.createElement("path",{d:le,fill:"#888"})),r.a.createElement("g",{transform:"translate(".concat(B(e[1]),",520)")},r.a.createElement("path",{d:le,fill:"#888"})),r.a.createElement("rect",{x:B(e[0]),y:515,width:B(e[1])-B(e[0]),height:5,style:{fill:"url(#diagonal-stripe-2)"}}),r.a.createElement("g",{transform:"translate(".concat(B(e[0])+3,",").concat(L(0)+60,")")},r.a.createElement("text",{style:{fontSize:"10px",fill:"#222"}},"Start"),r.a.createElement("text",{style:{fontSize:"10px",fill:"#000",fontWeight:"bold"},y:"12"},"Day ",Math.round(e[0])),r.a.createElement("text",{style:{fontSize:"10px",fill:"#222"},y:"28"},"Length"),r.a.createElement("text",{style:{fontSize:"10px",fill:"#000",fontWeight:"bold"},y:"40"},Math.round(e[1]-e[0])," days")))})),O?r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:W(O),stroke:"none",opacity:.7,fill:"#979"}),r.a.createElement("path",{d:F(O),stroke:"none",fill:"#c60"})):null,r.a.createElement("g",{className:"sir-x-axis",transform:"translate(0,400)"},r.a.createElement("line",{x1:"0",x2:"600",stroke:"black"}),Object(f.h)(Math.floor(78)).map((function(e){var t=B(7*e/1);return r.a.createElement("g",{key:e,transform:"translate(".concat(t,",0)")},r.a.createElement("line",{y2:e%3===0?7:4,stroke:"black"}),e%5===0?r.a.createElement("text",{y:"16",style:{fontSize:"10px",fill:"#888"},textAnchor:"middle"},e):null)})),r.a.createElement("text",{y:"32",x:B(0)-3,style:{fontSize:"10px",fill:"#444",fontWeight:"bold"},textAnchor:"start"},"Weeks since 100th case")),r.a.createElement("g",{className:"sir-y-axis"},Object(f.h)(4).map((function(e){var t=(e+1)/4;return r.a.createElement("g",{key:e,transform:"translate(0,".concat(L(t),")")},r.a.createElement("line",{x2:P,stroke:3===e?"#000":"#ccc",opacity:.5}),r.a.createElement("text",{y:"-2",x:"1",textAnchor:"start",style:{fontSize:"10px",fill:"#222"}},ne(1e5*t)))}))),r.a.createElement("g",{transform:"translate(".concat(P-90,",").concat(L(w),")")},r.a.createElement("polyline",{points:"-8,0 -3,3 -3,-3",fill:"black"}),r.a.createElement("text",{style:{fontSize:"10px",fill:"#222"},y:"17"},"Total Cases"),r.a.createElement("text",{style:{fontSize:"10px",fill:"#222"},y:"28"},"After 1.5 years"),r.a.createElement("text",{style:{fontSize:"10px",fill:"#000",fontWeight:"bold"},y:"3"},"~",100*Math.round(1e5*w/100))),C?r.a.createElement("g",{transform:"translate(".concat(B(C.index),",0)")},r.a.createElement("line",{y1:"50",y2:L(C.value)-3,stroke:"#a00"}),r.a.createElement("polyline",{points:"0,50 5,53 0,56",fill:"#a00"}),r.a.createElement("text",{x:"4",y:"70",style:{fontSize:"10px",fill:"#a00"}},"Infections at Peak"),r.a.createElement("text",{x:"4",y:"80",style:{fontSize:"10px",fill:"#a00",fontWeight:"bold"}},"~",100*Math.round(1e5*C.value/100))):null,r.a.createElement("text",{y:L(1)-16,x:P-90,textAnchor:"start",style:{fontSize:"10px",fill:"#000"}},"Total Population"),r.a.createElement("text",{y:L(1)-5,x:P-90,textAnchor:"start",style:{fontSize:"10px",fill:"#000",fontWeight:"bold"}},1e5),r.a.createElement("rect",{fill:"red",opacity:0,x:B(0)-11,width:B(546)-B(0)+22,height:560,onTouchStart:z,onMouseDown:z,onTouchEnd:V,onMouseUp:V,onMouseMove:U,onTouchMove:U}),x.map((function(e,t){return r.a.createElement("g",{key:t,transform:"translate(".concat(B(e[1]),",20)")},r.a.createElement("circle",{r:"11",fill:"#aaa"}),r.a.createElement("polyline",{points:"2,0 6,4 4,6 0,2 -4,6 -6,4 -2,0 -6,-4 -4,-6 0,-2 4,-6 6,-4",fill:"#fff"}),r.a.createElement("circle",{r:"11",fill:"#aaa",opacity:0,onClick:function(){!function(e){var t=x.slice(0);t.splice(e,1),v(t)}(t)}}))})),r.a.createElement("g",{transform:"translate(".concat(P,",435)")},r.a.createElement("text",{style:{fontSize:"10px",fill:"#444"},textAnchor:"end"},"Toy simulation"),r.a.createElement("text",{y:"13",style:{fontSize:"10px",fill:"#444"},textAnchor:"end"},"\u03b2",r.a.createElement("tspan",{baselineShift:"sub",fontSize:"7px"},"1")," = ",l),r.a.createElement("text",{y:"26",style:{fontSize:"10px",fill:"#444"},textAnchor:"end"},"\u03b2",r.a.createElement("tspan",{baselineShift:"sub",fontSize:"7px"},"2")," = ",u),r.a.createElement("text",{y:"39",style:{fontSize:"10px",fill:"#444"},textAnchor:"end"},"\u03b3 = ",p)))),document.getElementById("sir-model-with-waves"))},ce=function(e){var t=r.a.useRef(),a=r.a.useRef(),n=function n(r){if(void 0!==a.current){var l=r-a.current;e(l)}a.current=r,t.current=requestAnimationFrame(n)};r.a.useEffect((function(){return t.current=requestAnimationFrame(n),function(){return cancelAnimationFrame(t.current)}}),[])},oe=function(e,t,a,n){return Object(E.a)().domain([0,a,n]).range([e,e,t]).clamp(!0)},se=y("INFECTED"),ue=y("SUSCEPTIBLE"),me=y("IMMUNO"),de=function(e){var t=e.x1,a=e.y1,n=e.x2,l=e.y2,i=Math.atan2(l-a,n-t)/Math.PI*180,c=Math.hypot(n-t,l-a);return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,") rotate(").concat(i,")")},r.a.createElement("polyline",{points:"0,0 ".concat(c-6,",-3 ").concat(c-6,",-6 ").concat(c,",0 ").concat(c-6,",6 ").concat(c-6,",3"),fill:"#555"}))},fe=function(){var e=Object(n.useRef)(),t=Object(n.useState)(500),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),u=Object(s.a)(o,2),m=u[0],d=u[1];ce((function(){var t=e.current.getBoundingClientRect();c(t.height),d(t.top)}));var f=Object(E.a)().domain([window.innerHeight-l,.15*window.innerHeight]),h=Math.max(0,f(m)),p=Object(E.a)().domain([0,.3,.85,1]).range([1.5,1.5,.9,.9]),y=Object(E.a)().domain([0,.3,.4,1]).range([1,1,0,0]),g=Object(E.a)().domain([0,.5,.6,1]).range([0,0,1,1]),x=oe(ue,se,.01,.2),v=oe(ue,se,.3,.5),b=oe(ue,se,.95,1.1),S=oe(me,se,.95,1.1);return i.a.createPortal(r.a.createElement("svg",{ref:e,style:{width:"100%",borderBottom:"1px solid #eee",overflow:"visible"},viewBox:"0 0 600 ".concat(500)},r.a.createElement("g",{transform:"translate(".concat(300,", ").concat(250,") scale(").concat(p(h),")")},r.a.createElement("g",null,r.a.createElement("g",{transform:"scale(0.3) translate(-50,-160) rotate(7)"},r.a.createElement("polyline",{points:"0,0 0,80 40,80 55,95 70,80 110,80 110,0"}),r.a.createElement("text",{textAnchor:"middle",x:"55",y:"28",style:{fontSize:"21px",fontWeight:"bold",letterSpacing:"0.2em",fill:"white"}},"LOCAL"),r.a.createElement("text",{textAnchor:"middle",x:"55",y:"65",style:{fontSize:"42px",fill:"white"}},"PARK")),r.a.createElement("g",{transform:"translate(7, -17)"},r.a.createElement("use",{xlinkHref:"#adult",fill:x(h)})),r.a.createElement("g",{transform:"translate(-18, -15)"},r.a.createElement("use",{xlinkHref:"#adult",fill:x(h)})),r.a.createElement("g",{transform:"translate(-6, 0)"},r.a.createElement("use",{xlinkHref:"#adult",fill:se})),r.a.createElement("g",null,r.a.createElement(de,{x1:17,y1:-12,x2:60,y2:-48}),r.a.createElement("g",{transform:"translate(60,-48)"},r.a.createElement("g",{transform:"translate(4,-13)"},r.a.createElement("use",{xlinkHref:"#adult",fill:x(h)})),r.a.createElement("g",{transform:"translate(18,-13)"},r.a.createElement("use",{xlinkHref:"#adult",fill:v(h)})),r.a.createElement("g",{className:"cartoon-annotations",transform:"translate(0,-30)",opacity:y(h)},r.a.createElement("text",{x:"15",y:"50"},"\u2026to her husband."),r.a.createElement("g",{transform:"translate(35, 5)"},r.a.createElement("text",{className:"personal-annotation",y:"-12"},"27 y.o.,\xa0Cashier"),r.a.createElement("text",{className:"personal-annotation"},"Healthy"),r.a.createElement("line",{x1:"-1",y1:"1",x2:"-10",y2:"10",className:"personal-annotation-line"}))),r.a.createElement("g",{className:"the-grocer",opacity:g(h)},r.a.createElement(de,{x1:27,y1:-15,x2:40,y2:-58}),r.a.createElement("g",{transform:"translate(47,-5) scale(1.5)"},r.a.createElement("text",null,"\u2026to the grocer's"),r.a.createElement("text",{y:"15"},"customers.")),r.a.createElement("g",{transform:"translate(40,-80)"},r.a.createElement("use",{xlinkHref:"#adult",fill:v(h)}),r.a.createElement("use",{xlinkHref:"#adult",y:"-57",x:"-75",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",y:"-46",x:"-60",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",y:"-38",x:"-45",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",y:"-31",x:"-30",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",y:"-28",x:"-15",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",y:"-25",x:"0",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",y:"-28",x:"23",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",y:"-31",x:"49",fill:S(h)}),r.a.createElement("g",{className:"the-retiree",transform:"translate(70, -44)"},r.a.createElement("g",{transform:"scale(1.5)"},r.a.createElement("text",{className:"personal-annotation",y:"-24"},"68 y.o.,\xa0Retiree"),r.a.createElement("text",{className:"personal-annotation",y:"-12"},"Fighting Cancer"),r.a.createElement("text",{className:"personal-annotation immunocompromised-text"},"Immunocompromised"),r.a.createElement("line",{x1:"-1",y1:"1",x2:"-8",y2:"8",className:"personal-annotation-line"}))),r.a.createElement("g",{className:"the-child"},r.a.createElement("use",{xlinkHref:"#child",x:"-151",y:"-65",fill:S(h)}),r.a.createElement("line",{x1:"-75",y1:"-49",x2:"-139",y2:"-56",stroke:"#aaa",strokeDasharray:"2,1"}),r.a.createElement("g",{transform:"translate(-128, -78) scale(1.5)"},r.a.createElement("text",{className:"personal-annotation",y:"-36"},"8 y.o., Child"),r.a.createElement("text",{className:"personal-annotation",y:"-24"},"Waiting for Mom"),r.a.createElement("text",{className:"personal-annotation",y:"-12"},"Cystic Fibrosis"),r.a.createElement("text",{className:"personal-annotation immunocompromised-text"},"Immunocompromised"),r.a.createElement("line",{x1:"-8",y1:"10",x2:"0",y2:"2",className:"personal-annotation-line"}))),r.a.createElement("g",{transform:"scale(0.3) translate(90,20) rotate(-2)"},r.a.createElement("polyline",{points:"-40,0 -40,80 40,80 55,95 70,80 150,80 150,0"}),r.a.createElement("text",{textAnchor:"middle",x:"55",y:"28",style:{fontSize:"21px",fontWeight:"bold",letterSpacing:"0.2em",fill:"white"}},"LOCAL"),r.a.createElement("text",{textAnchor:"middle",x:"55",y:"65",style:{fontSize:"42px",fill:"white"}},"GROCER")))))),r.a.createElement("g",null,r.a.createElement(de,{x1:-19,y1:-16,x2:-55,y2:-56}),r.a.createElement("g",{transform:"translate(-68,-69)"},r.a.createElement("use",{xlinkHref:"#adult",fill:x(h)}),r.a.createElement("g",{transform:"translate(-7, -21)"},r.a.createElement("use",{xlinkHref:"#adult",fill:v(h)})),r.a.createElement("g",{transform:"translate(-14, -3)"},r.a.createElement("use",{xlinkHref:"#adult",fill:v(h)})),r.a.createElement("g",{className:"cartoon-annotations",opacity:y(h)},r.a.createElement("text",{x:"10",y:"35",textAnchor:"end"},"\u2026to his roommates."),r.a.createElement("g",{transform:"translate(-21, -12)"},r.a.createElement("text",{className:"personal-annotation",y:"-12",textAnchor:"end"},"32 y.o., ER Nurse"),r.a.createElement("text",{className:"personal-annotation",textAnchor:"end"},"Healthy"),r.a.createElement("line",{x1:"1",y1:"1",x2:"10",y2:"10",className:"personal-annotation-line"}))),r.a.createElement("g",{className:"the-er",opacity:g(h)},r.a.createElement(de,{x1:-19,y1:7,x2:-50,y2:7}),r.a.createElement("g",{transform:"translate(-160,45) scale(1.5)"},r.a.createElement("text",null,"\u2026to patients"),r.a.createElement("text",{y:"15"},"in the E.R.")),r.a.createElement("g",{transform:"translate(-64,-2)"},r.a.createElement("use",{xlinkHref:"#adult",fill:v(h)}),r.a.createElement("g",{transform:"scale(0.3) translate(-120,-150) rotate(12)"},r.a.createElement("polyline",{points:"10,0 10,80 40,80 55,95 70,80 100,80 100,0"}),r.a.createElement("text",{textAnchor:"middle",x:"55",y:"28",style:{fontSize:"21px",fontWeight:"bold",letterSpacing:"0.2em",fill:"white"}},"THE"),r.a.createElement("text",{textAnchor:"middle",x:"55",y:"65",style:{fontSize:"42px",fill:"white"}},"E.R.")),r.a.createElement("g",{transform:"translate(-20,-40)"},r.a.createElement("use",{xlinkHref:"#adult",x:"5",y:"32",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",x:"-94",y:"-9",fill:S(h)}),r.a.createElement("use",{xlinkHref:"#adult",x:"-80",y:"-12",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",x:"-66",y:"-11",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",x:"-53",y:"-12",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",x:"-38",y:"-13",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",x:"-102",y:"19",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",x:"-87",y:"17",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",x:"-72",y:"18",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#elder",x:"-57",y:"16",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#adult",x:"-44",y:"18",fill:b(h)}),r.a.createElement("use",{xlinkHref:"#child",x:"-33",y:"30",fill:b(h)}),r.a.createElement("g",{transform:"translate(-110, -29) scale(1.5)"},r.a.createElement("text",{className:"personal-annotation",y:"-24"},"68 y.o., Army Vet"),r.a.createElement("text",{className:"personal-annotation",y:"-12"},"Chronic Insomnia"),r.a.createElement("text",{className:"personal-annotation immunocompromised-text"},"Immunocompromised"),r.a.createElement("line",{x1:"1",y1:"2",x2:"10",y2:"13",className:"personal-annotation-line"}))))))),r.a.createElement("g",null,r.a.createElement(de,{x1:0,y1:21,x2:2,y2:66}),r.a.createElement("g",{transform:"translate(-4,69)"},r.a.createElement("use",{xlinkHref:"#adult",fill:x(h)}),r.a.createElement("use",{x:"-14",y:"12",xlinkHref:"#adult",fill:v(h)}),r.a.createElement("g",{transform:"translate(12,14)"},r.a.createElement("use",{xlinkHref:"#elder",fill:v(h)})),r.a.createElement("g",{transform:"translate(0, 0)",className:"cartoon-annotations",opacity:y(h)},r.a.createElement("text",{x:"35",y:"23"},"\u2026to your aunt."),r.a.createElement("g",{transform:"translate(37, 43)"},r.a.createElement("text",{className:"personal-annotation",y:"10"},"62 y.o., Aunt"),r.a.createElement("text",{className:"personal-annotation",y:"22"},"Hypertension"),r.a.createElement("line",{x2:"-10",y2:"-10",className:"personal-annotation-line"}))),r.a.createElement("g",{className:"house-of-grandpa",opacity:g(h)},r.a.createElement(de,{x1:14,y1:30,x2:-2,y2:96}),r.a.createElement("g",{transform:"translate(27,75) scale(1.5)"},r.a.createElement("text",null,"\u2026to grandpa's nursing home.")),r.a.createElement("g",{transform:"translate(-12,100)"},r.a.createElement("use",{xlinkHref:"#elder",fill:v(h)}),r.a.createElement("use",{x:"-20",xlinkHref:"#elder",fill:S(h)}),r.a.createElement("g",{transform:"translate(-32, -14) scale(1.5)"},r.a.createElement("text",{textAnchor:"end",className:"personal-annotation",y:"-24"},"89 y.o.,\xa0Grandpa"),r.a.createElement("text",{textAnchor:"end",className:"personal-annotation",y:"-12"},"Hip Transplant"),r.a.createElement("text",{textAnchor:"end",className:"personal-annotation immunocompromised-text"},"Immunocompromised"),r.a.createElement("line",{x1:"-1",y1:"1",x2:"8",y2:"10",className:"personal-annotation-line"}))))))))),document.getElementById("scrolly-cartoon"))};var Ee=function(){var e="object"===typeof window,t=Object(n.useState)(e?{width:window.innerWidth,height:window.innerHeight}:void 0),a=Object(s.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){function t(){l({width:window.innerWidth,height:window.innerHeight})}if(e)return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e,l]),r},he=function(){return Math.random()>.3?"adult":Math.random()>.2?"elder":"child"},pe={immunoNoBeds:.1,immunoWithBed:.8,severeNoBeds:.7,severeWithBeds:.95},ye=function(e,t,a){var n=e*a,r=t*a,l=[],i=Math.ceil(r/130),c=Math.ceil(n/470);Object(f.h)(i).forEach((function(e){Object(f.h)(c).forEach((function(t){l.push({y:130*(.2+e),x:470*(t+(e%2===0?.5:0)+.1)})}))}));var o=[],s=[],u={},m=[],d=l.map((function(e,t){var a={id:0===t?"a":"cluster-".concat(t,"-centroid"),age:he(),immuno:!1,x:e.x,y:e.y},n=[a];o.push(a),u[a.id]={node:a,neighbours:[]};var r=0===t?5:2+Math.round(2.3*Math.random());return Object(f.h)(r).forEach((function(e){var l=5+3*e,i=(e+1)*(25-1.5*e);Object(f.h)(l).forEach((function(c){var s=e*(1/l)*2*Math.PI,d=c/l*2*Math.PI+s,f=a.x+Math.cos(d)*i,E=a.y+Math.sin(d)*i,h=he(),p="elder"===h?.2:.015,y={clusterId:t,id:"cluster-".concat(t,"-").concat(e,"-").concat(c),age:h,immuno:Math.random()<p,x:f,y:E};u[y.id]={node:y,neighbours:[]},o.push(y),n.push(y),e===r-1&&m.push(y)}))})),n})),E={};return m.forEach((function(e,t,a){a.slice(t+1,a.length).forEach((function(t){var a=e.x-t.x,n=e.y-t.y;Math.hypot(a,n)<210&&e.clusterId!==t.clusterId&&function(e,t){var a=e>=t?"".concat(t,"-").concat(e):"".concat(e,"-").concat(t);if(E[a]){var n=E[a],r=Math.random()<1/(n+1);return r&&E[a]++,r}return E[a]=1,!0}(e.clusterId,t.clusterId)&&(s.push({source:e,target:t,priority:"IMMEDIATE-FAMILY"}),u[e.id].neighbours.push({id:t.id,priority:"IMMEDIATE-FAMILY"}),u[t.id].neighbours.push({id:e.id,priority:"IMMEDIATE-FAMILY"}))}))})),d.forEach((function(e){e.forEach((function(e,t,a){a.slice(t+1,a.length).forEach((function(t){var a=e.x-t.x,n=e.y-t.y;Math.hypot(a,n)<65&&(s.push({source:e,target:t,priority:"IMMEDIATE-FAMILY"}),u[e.id].neighbours.push({id:t.id,priority:"IMMEDIATE-FAMILY"}),u[t.id].neighbours.push({id:e.id,priority:"IMMEDIATE-FAMILY"}))}))}))})),{nodes:o,links:s,hash:u}},ge=function(){var e=Ee(),t=window.devicePixelRatio,a=Object(n.useState)(e.width),l=Object(s.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)(.53*e.height),d=Object(s.a)(m,2),f=d[0],E=d[1],h=ye(e.width,f,t),p=r.a.useState({frame:0,graph:h,state:D(h)}),y=Object(s.a)(p,2),g=(y[0],y[1]),x=Object(n.useRef)(),v=Object(n.useRef)(),S=Object(n.useRef)(),O=Object(u.a)({threshold:0}),I=Object(s.a)(O,3),k=I[0],M=I[1],C=(I[2],Object(n.useRef)()),A=Object(n.useRef)();return r.a.useEffect((function(){C.current=function(){var e=x.current.getContext("2d"),a=v.current.getContext("2d"),n=!1;g((function(r){var l=r.graph,i=r.state,o=r.frame;if(M||0===o){var s=Math.floor(o/4);P&&o<10&&(a.clearRect(0,0,c*t,f*t),a.scale(1.2,1.2),P(a,l.links,{}),a.resetTransform()),B&&(e.clearRect(0,0,c*t,f*t),e.scale(1.2,1.2),B(e,l.nodes,i.population,s,o,4),e.resetTransform()),M&&o%4===0&&r&&(i=L(l.nodes,l.hash,i,Object(b.a)({},pe,{numberOfBeds:2})))}return n=0===i.history[i.history.length-1].SUSCEPTIBLE&&0===i.history[i.history.length-1].INFECTED,{frame:M?o+1:o,graph:l,state:i}})),n||(A.current=requestAnimationFrame(C.current))}})),Object(n.useEffect)((function(){var e=S.current.getBoundingClientRect();if(window.cancelAnimationFrame(A.current),c!==e.width){var a=.53*window.innerHeight,n=e.width,r=ye(n,a,t/1.2);o(n),E(a),g({frame:0,graph:r,state:D(r)}),C.current()}}),[e]),r.a.useEffect((function(){C.current()}),[]),i.a.createPortal(r.a.createElement("div",{ref:k},r.a.createElement("div",{ref:S,className:"canvas-stack"},r.a.createElement("canvas",{className:"links-canvas",ref:v,width:c*t,height:.53*f*t,style:{width:"".concat(c,"px"),height:"".concat(.53*f,"px")}}),r.a.createElement("canvas",{className:"nodes-canvas",ref:x,width:c*t,height:.53*f*t,style:{width:"".concat(c,"px"),height:"".concat(.53*f,"px"),borderBottom:"1px solid #aaa"}}))),document.getElementById("header-graphic"))},xe=function(e){e.content;var t=e.portalId,a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){c?document.getElementById(t).classList.remove("footnote-closed"):document.getElementById(t).classList.add("footnote-closed")}),[c]),Object(n.useEffect)((function(){var e=document.getElementById(t);e.addEventListener("click",(function(){o((function(e){return!e}))})),e.classList.add("footnote-with-javascript")}),[]),i.a.createPortal(r.a.createElement("svg",{width:"16",height:"16",className:"footnote-icon"},r.a.createElement("polyline",{points:"2,2 1,3 1,9 2,10 4,10 4,13 7,10 12,10 13,9 13,3 12,2 2,2",stroke:c?"black":"grey",fill:c?"black":"white"})),document.getElementById(t))},ve=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=Array.from(document.getElementsByClassName("footnote")).map((function(e){return{id:e.id}}));l(e)}),[]),r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(xe,{key:e.id,portalId:e.id,content:"hello"})})))},be=Y(360,Math.ceil(360*.03));console.log(be);var Se=function(){var e={immunoNoBeds:.1,immunoWithBed:.8,severeNoBeds:.7,severeWithBeds:.95};return r.a.createElement("div",{className:"App"},r.a.createElement(ge,null),r.a.createElement(fe,null),r.a.createElement(ve,null),r.a.createElement("svg",null,r.a.createElement(R,{portalId:"simple-spread-simulation"}),r.a.createElement(W,{graph:be,portalId:"big-spread-simulation",deathRates:e}),r.a.createElement(H,{graph:be,portalId:"with-social-distancing",deathRates:e}),r.a.createElement(U,{graph:be,portalId:"resurgence-simulation",deathRates:e})),r.a.createElement(te,{portalId:"SIR-model-vis"}),r.a.createElement(o,{deathRates:e}),r.a.createElement(ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.90375423.chunk.js.map